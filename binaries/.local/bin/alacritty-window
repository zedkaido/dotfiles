#!/bin/zsh

open_ch_window() {
	open -n /Applications/Alacritty.app/ \
		--args --title "f-alacritty-ch" \
		-e zsh -c "~/.local/bin/ch"
}

open_launcher_window() {
	open -n /Applications/Alacritty.app \
		--args --title "f-alacritty-launcher" \
		-e zsh -c "~/.local/bin/app-open"
}

open_cmd_window() {
	open -n /Applications/Alacritty.app \
		--args --title "f-alacritty-cmd" \
		-e zsh -c 'tmux a -t "cmd" || tmux new -s "cmd"'
}

open_colorscheme_window() {
	open -n /Applications/Alacritty.app \
		--args --title "f-alacritty-colorscheme" \
		-e zsh -c "~/.local/bin/colorscheme"
}

open_pass_window(){
	open -n /Applications/Alacritty.app \
		--args --title "f-alacritty-pass" \
		-e zsh -c "~/.local/bin/pass-copy"
}

open_bookmarks_window(){
	open -n /Applications/Alacritty.app \
		--args --title "f-alacritty-bookmarks" \
		-e zsh -c "~/.local/bin/bookmark"
}

open_snippets_window() {
	open -n /Applications/Alacritty.app \
		--args --title "f-alacritty-snippets" \
		-e zsh -c "~/.local/bin/snippet-copy"
}

open_radio_window() {
	open -n /Applications/Alacritty.app \
		--args --title "f-alacritty-radio" \
		-e zsh -c "~/.local/bin/radio"
}

open_webcam_window() {
	open -n /Applications/Alacritty.app \
		--args --title "f-alacritty-webcam" \
		-e zsh -c "~/.local/bin/webcam"
}

choose_window() {
	window_types=(
		ch # clipboard history
		launcher
		cmd
		colorscheme
		pass
		bookmarks
		snippets
		webcam
	)
	chosen_window=$(printf "%s\n" "${window_types[@]}" | fzy)
	case "$chosen_window" in
		ch) open_ch_window ;;
		launcher) open_launcher_window ;;
		cmd) open_cmd_window ;;
		colorscheme) open_colorscheme_window ;;
		pass) open_pass_window ;;
		bookmarks) open_bookmarks_window ;;
		radio) open_radio_window ;;
		webcam) open_webcam_window ;;
		*) echo "You must choose a an alacritty window to open (i.e. alacritty-win launcher)" ;;
	esac	
}

case "$1" in
	ch) open_ch_window ;;
	launcher) open_launcher_window ;;
	cmd) open_cmd_window ;;
	colorscheme) open_colorscheme_window ;;
	pass) open_pass_window ;;
	bookmarks) open_bookmarks_window ;;
	snippets) open_snippets_window ;; 
	radio) open_radio_window ;;
	webcam) open_webcam_window ;;
	*) choose_window ;;
esac	
